При решении задачи сопоставления вакансий и резюме (CV) пользователя, метрики pass@1 (precision at 1) и MRR (Mean Reciprocal Rank) часто используются для оценки качества рекомендательных систем. Давайте разберемся, почему эти метрики могут быть полезны в таком контексте.

### Precision at 1 (pass@1)

Precision at 1 измеряет точность самой верхней рекомендации. Она подсчитывает, сколько раз первая рекомендованная вакансия была действительно подходящей для кандидата. В контексте сопоставления вакансий и CV это означает:

- **pass@1 = 1**, если самая высокоранжированная вакансия является подходящей для CV пользователя.
- **pass@1 = 0**, если самая высокоранжированная вакансия не подходит для CV пользователя.

Выбор pass@1 как метрики обоснован в ситуациях, где важна точность первого предложения. Например, если пользователь ищет работу и хочет увидеть самое релевантное предложение, то pass@1 покажет, насколько хорошо система выполняет эту задачу. В условиях, где пользователи, как правило, рассматривают только первую рекомендацию, высокая pass@1 говорит о том, что система эффективно подбирает вакансии.

### Mean Reciprocal Rank (MRR)

MRR является метрикой для оценки качества ранжирования в целом. Она учитывает позицию первого правильного сопоставления и вычисляет среднее обратное ранговое значение для набора запросов:

\[ MRR = \frac{1}{|Q|} \sum_{i=1}^{|Q|} \frac{1}{rank_i} \]

где |Q| — количество запросов, а \( rank_i \) — позиция первого правильного сопоставления для i-го запроса.

В контексте вакансий и CV MRR подскажет, насколько быстро пользователи находят подходящую вакансию. Если система рекомендует подходящую вакансию не на первом месте, но всё же достаточно высоко в списке, MRR будет выше, чем если бы релевантные вакансии оказались на нижних позициях.

Выбор MRR в качестве метрики оправдан, когда важно учитывать не только самый первый результат, но и общее качество ранжирования списка рекомендаций. Это помогает понять, насколько хорошо система работает в целом, а не только в лучшем случае.

### Заключение

Выбор pass@1 и MRR для задачи сопоставления вакансий и CV может быть оптимальным, когда:

- Пользователям важно получить наиболее релевантное предложение первым (pass@1).
- Необходимо учитывать эффективность ранжирования нескольких рекомендаций, а не только первой (MRR).

# Pезультаты подбора модели

| Model Name          | MRR Score                                  | pass@1 |
|---------------------|---------------------------------------------|------|
| intfloat/multilingual-e5-large                | 0.61| 0.6 |
| sentence-transformers/LaBSE             | 0.61                  |0.6 |
| paraphrase-multilingual-mpnet-base-v2               |0.68 | 0.67 |
| sn-xlm-roberta-base-snli-mnli-anli-xnli | 0.37 | 0.36 |

